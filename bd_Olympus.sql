USE MASTER IF EXISTS(SELECT * FROM SYS.databases WHERE NAME = 'bdOlympus_6')
DROP DATABASE bdOlympus_6
GO

CREATE DATABASE bdOlympus_6
GO

USE bdOlympus_6
GO


CREATE TABLE PLANO (
ID            INT PRIMARY KEY IDENTITY (1,1),
NOME          VARCHAR (100) NOT NULL, 
DESCRICAO     VARCHAR (500) NOT NULL, 
PRECO_MENSAL  DECIMAL (10,2) NOT NULL );
GO 

INSERT INTO PLANO VALUES ('PLANO PREMIUM', 'ACESSO � TUDO QUE A ACADEMIA OFERECE', '149.90')
GO 
INSERT INTO PLANO VALUES ('PLANO ESSENCIAL', 'ACESSO �S AULAS DE GIN�STICAS, DAN�AS E ARTES MARCIAIS', '125.90')
GO 
INSERT INTO PLANO VALUES ('PLANO B�SICO', 'ACESSO LIMITADO A �REA DE MUSCULA��O DA ACADEMIA', '89.90')
GO 

SELECT * FROM PLANO



CREATE TABLE CHECKIN (
ID INT PRIMARY KEY IDENTITY (1,1),
DATA_INICIO DATE NOT NULL,
ID_PLANO INT NOT NULL, 
FOREIGN KEY (ID_PLANO) REFERENCES PLANO (ID))
GO

INSERT INTO CHECKIN VALUES ('05/01/2024', 1)
GO
INSERT INTO CHECKIN VALUES ('10/02/2024', 2)
GO
INSERT INTO CHECKIN VALUES ('07/03/2024', 3)
GO
INSERT INTO CHECKIN VALUES ('09/04/2024', 1)
GO
INSERT INTO CHECKIN VALUES ('12/05/2024', 2)
GO
INSERT INTO CHECKIN VALUES ('10/06/2024', 3)
GO
INSERT INTO CHECKIN VALUES ('06/07/2024', 1)
GO
INSERT INTO CHECKIN VALUES ('10/08/2024', 2)
GO
INSERT INTO CHECKIN VALUES ('03/09/2024', 3)
GO
INSERT INTO CHECKIN VALUES ('02/10/2024', 1)
GO

SELECT * FROM CHECKIN

CREATE TABLE USUARIO (
ID             INT PRIMARY KEY IDENTITY (1,1), 
NOME_COMPLETO  VARCHAR(100) NOT NULL, 
DATA_NASC      DATE NOT NULL, 
TELEFONE       VARCHAR (25) NULL,
EMAIL          VARCHAR (100), 
SENHA          VARCHAR (100),
NIVEL_ACESSO   VARCHAR(10) NULL, --ADM, TEC ou USER
FOTO           VARBINARY(MAX) NULL,
STATUS_USUARIO VARCHAR(20) NOT NULL, --ATIVO, INATIVO ou TROCAR_SENHA
ID_PLANO       INT NOT NULL,
FOREIGN KEY (ID_PLANO) REFERENCES PLANO (ID))
GO

INSERT INTO USUARIO VALUES ('EDUARDO DA COSTA LIMA', '26/01/2001', '1193456-8908', 'EDUARDOCOSTA@GMAIL.COM', '123456', 'ADM', 1, '',  1 ) 
GO 
INSERT INTO USUARIO VALUES ('ANA GABRIELA SOUZA', '12/06/1990', '1197865-7623', 'GABISOUZA@HOTMAIL.COM','987654', 'TEC', 1, '', 2)
GO 
INSERT INTO USUARIO VALUES ('GIOVANNI RODRIGUES DA SILVA', '01/03/1999', '1197643-0923', 'G1OV4NNI@HOTMAIL.COM','567890', 'USER', 1, '', 3)
GO
INSERT INTO USUARIO VALUES ('JULIANA MENEZES', '16/05/2003', '1196767-0908', 'JMENEZES@GMAIL.COM', '389065', 'ADM', 1, '', 1)
GO 
INSERT INTO USUARIO VALUES ('MARIA CLARA DE OLIVEIRA', '12/10/1980', '1196734-0909', 'CLARINHA09@HOTMAIL.COM', '975310', 'USER', 1, '', 2)
GO 
INSERT INTO USUARIO VALUES ('CAIO EDUARDO ANT�NIO DA SILVA', '24/08/2002', '1198233-7865', 'CAIOANTONIO@GMAIL.COM', '778900', 'ADM', 1, '', 3)
GO 
INSERT INTO USUARIO VALUES ('MARIA JULIA RIBEIRO', '22/09/1970', '1194564-2233', 'MAJURIBEIRO@GMAIL.COM', '222467', 'TEC', 1 , '', 1 )
GO 
INSERT INTO USUARIO VALUES ('MARIA LUIZA DE ANDRADE', '31/01/2004', '1196525-7452', 'MAANDRADE@GMAIL.COM', '997654', 'USER', 1, '', 2)
GO 
INSERT INTO USUARIO VALUES ('JO�O GUILHERME DANTAS', '24/04/2004', '1195452-7852', 'JAODANTAS@HOTMAIL.COM','214365', 'ADM', 1, '', 3)
GO 
INSERT INTO USUARIO VALUES ('LUIZ GUSTAVO DE AZEVEDO', '15/12/1997', '1192121-3698', 'GUGULUIZ@GMAIL.COM', '749630', 'TEC', 1, '',  3)
GO 

SELECT * FROM USUARIO




SELECT * FROM PLANO 
SELECT * FROM CHECKIN 
SELECT * FROM USUARIO 




--ATUALIZANDO DADOS DE UMA TABELA 
UPDATE PLANO 
SET PRECO_MENSAL = 100.00
WHERE ID = 3;

UPDATE USUARIO 
SET TELEFONE = 119840567766
WHERE ID = 1;

UPDATE USUARIO 
SET EMAIL = 'EDUARDOCOSTA@HOTMAIL.COM'
WHERE ID = 1;

--DELETANDO DADOS NA TABELA 

DELETE FROM USUARIO 
WHERE ID = 6;

DELETE FROM CHECKIN 
WHERE ID = 1; 

DELETE FROM USUARIO 
WHERE ID = 3;


